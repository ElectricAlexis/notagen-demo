<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
  <!-- Replace the content tag with appropriate information -->
  <meta name="description" content="DESCRIPTION META TAG">
  <meta property="og:title" content="SOCIAL MEDIA TITLE TAG"/>
  <meta property="og:description" content="SOCIAL MEDIA DESCRIPTION TAG TAG"/>
  <meta property="og:url" content="URL OF THE WEBSITE"/>
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X630-->
  <meta property="og:image" content="static/image/your_banner_image.png" />
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>


  <meta name="twitter:title" content="TWITTER BANNER TITLE META TAG">
  <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X600-->
  <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
  <meta name="twitter:card" content="summary_large_image">
  <!-- Keywords for your paper to be indexed by-->
  <meta name="keywords" content="KEYWORDS SHOULD BE PLACED HERE">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title>NotaGen</title>
  <link rel="icon" type="image/x-icon" href="static/images/notagen-icon.ico">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
  rel="stylesheet">

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">
  <link rel="stylesheet" href="static/css/APlayer.min.css">
  <link rel="stylesheet" href="static/css/video-styles.css">
  <link rel="stylesheet" href="static/css/composer-style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
  <script src="static/js/APlayer.min.js"></script>
</head>
<body>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">NotaGen: Advancing Musicality in Symbolic Music Generation with Large Language Model Training Paradigms</h1>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">Yashan Wang<sup>1</sup>,</span>
              <span class="author-block">Shangda Wu<sup>1</sup>,</span>
              <span class="author-block">Jianhuai Hu<sup>1</sup>,</span>
              <span class="author-block">Xingjian Du<sup>2</sup>,</span>
              <span class="author-block">Yueqi Peng<sup>3</sup>,</span>
            </div>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">Yongxin Huang<sup>4</sup>,</span>
              <span class="author-block">Shuai Fan<sup>5</sup>,</span>
              <span class="author-block">Xiaobing Li<sup>1</sup>,</span>
              <span class="author-block">Feng Yu<sup>1</sup>,</span>
              <span class="author-block">Maosong Sun<sup>1,6</sup></span>
            </div>
            <br>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block"><sup>1</sup>Central Conservatory of Music, China,</span>
              <span class="author-block"><sup>2</sup>University of Rochester, USA,</span><br>
              <span class="author-block"><sup>3</sup>Beijing Flowingtech Ltd., China,</span>
              <span class="author-block"><sup>4</sup>Independent Researcher,</span><br>
              <span class="author-block"><sup>5</sup>Beihang University, China,</span>
              <span class="author-block"><sup>6</sup>Tsinghua University, China</span><br>
            </div>


                  <div class="column has-text-centered">
                    <div class="publication-links">
                         <!-- Arxiv PDF link -->
                      <span class="link-block">
                        <a href="https://arxiv.org/pdf/<ARXIV PAPER ID>.pdf" target="_blank"
                        class="external-link button is-normal is-rounded is-dark">
                        <span class="icon">
                          <i class="fas fa-file-pdf"></i>
                        </span>
                        <span>Paper</span>
                      </a>
                    </span>

                    <!-- Supplementary PDF link -->
                    <span class="link-block">
                      <a href="static/pdfs/supplementary_material.pdf" target="_blank"
                      class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                      </span>
                      <span>Supplementary</span>
                    </a>
                  </span>

                  <!-- Github link -->
                  <span class="link-block">
                    <a href="https://github.com/YOUR REPO HERE" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>

                <!-- ArXiv abstract Link -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/<ARXIV PAPER ID>" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Teaser-->
<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <img src="static\images\model\notagen.png" alt="NotaGen" class="image" style="width: 600px;">
      <h2 class="subtitle has-text-centered">
        The training paradigms of NotaGen.
      </h2>
    </div>
  </div>
</section>



<!-- Paper abstract -->
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            We introduce NotaGen, a symbolic music generation model aims to explore the potential of producing high-quality classical sheet music. Inspired by the success of Large Language Models (LLMs), NotaGen adopts pre-training, fine-tuning, and reinforcement learning paradigms (henceforth referred to as the LLM training paradigms). It is pre-trained on 1.6M pieces of music, and then fine-tuned on approximately 9K high-quality classical compositions conditioned on ``period-composer-instrumentation''  prompts. For reinforcement learning, we propose the CLaMP-DPO method, which further enhances generation quality and controllability without requiring human annotations or predefined rewards. Our experiments demonstrate the efficacy of CLaMP-DPO in symbolic music generation models with different architectures and encoding schemes. Furthermore, subjective A/B tests show that NotaGen outperforms baseline models against human compositions, greatly advancing musical aesthetics in symbolic music generation.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End paper abstract -->

<!-- Data Representation and Model Architecture -->
 
<section class="hero is-small">
<br>
<br>
  <div class="hero-body">
    <div class="columns is-centered has-text-centered">
      <div class="container"style="max-width: 1100px; margin: 50px;">
        <h2 class="title is-3">Data Representation and Model Architecture</h2>
        <br>
        <div style="display: flex; justify-content: space-between">
          <img src="static/images/model/data-representation.png" 
               alt="data-representation.png" 
               style="width: 48%; height: auto">
  
          <img src="static/images/model/model-architecture.png" 
               alt="model-architecture" 
               style="width: 48%; height: auto">
         </div>
         <br>
          <div class="content has-text-justified">
            <p>
              <a href="https://abcnotation.com/" target="_blank">ABC notation</a> is a musical notation system that uses a combination of letters, numbers, and symbols to represent musical notes. We adopt a modified version---interleaved ABC notation, as our data representation. In this format, different voices of the same bar are rearranged into a single line and differentiated using voice indicators ''[V:]''. Furthermore, we remove bars with full rests.
            </p>
            <p>
              NotaGen utilizes <a href="https://arxiv.org/abs/2410.17584" target="_blank">bar-stream patching</a> and the <a href="https://arxiv.org/abs/2301.02884" target="_blank">Tunesformer</a> architecture. It consists of two hierarchical GPT-2 decoders: a patch-level decoder and a character-level decoder. Each patch is flattened by concatenating one-hot character vectors and then passed through a linear layer to obtain the patch embedding. The patch-level decoder captures the temporal relationships among patches, and its final hidden states are passed to the character-level decoder, which auto-regressively predicts the characters of the next patch.
            </p>
          </div>
      </div>
    </div>
  </div>
</section>
<!-- End Data Representation and Model Architecture -->

<!-- Pre-training and Fine-tuning -->
<section class="hero is-small">
<br>
  <div class="hero-body">
    <div class="columns is-centered has-text-centered">
      <div class="container" style="max-width: 1100px; margin: 50px;">
        <h2 class="title is-3">Pre-training and Fine-tuning</h2>
        <br>
          <div class="content has-text-justified">
            <p>
              NotaGen is pre-trained on 1.6M pieces of music. This corpus covers a wide range of genres and periods, enabling NotaGen to capture fundamental musical structures and patterns through next-token prediction.
            </p>
            <p>
              NotaGen is fine-tuned on high-quality classical music sheet data to further enhance musicality in generation. We curated a fine-tuning dataset comprising 8,948 classical music sheets and covering 152 composers, from <a href="https://github.com/DCMLab/dcml_corpora" target="_blank">DCML corpora</a>, <a href="https://github.com/OpenScore/StringQuartets" target="_blank">OpenScore String Quartet Corpus</a>, <a href="https://github.com/OpenScore/Lieder" target="_blank">OpenScore Lieder Corpus</a>, <a href="https://github.com/tangjjbetsy/ATEPP" target="_blank">ATEPP</a>, <a href="http://kern.ccarh.org/" target="_blank">KernScores</a>, and internal resources. We label all the pieces with 3 periods---Baroque, Classical, and Romantic; 6 instrumentations---Keyboard, Chamber, Orchestral, Art Song, Choral, and Vocal-Orchestral. Each piece is preprended with a ''period-composer-instrumentation'' prompt for conditional generation.
            </p>
            <p>

            </p>
          </div>
      </div>
    </div>
  </div>
</section>
<!-- End re-training and Fine-tuning -->


<!-- Image carousel -->
<section class="hero is-small">
  <div class="hero-body">
    <div class="container" style="max-width: 1100px; margin: auto;">
      <div id="results-carousel" class="carousel results-carousel">

        <div class="composer-container" >
          <div class="composer-image">
              <img src="static\images\composers\Johann_Sebastian_Bach.jpg" alt="Bach, Johann Sebastian">
          </div>
          <div class="composer-info">
            <div class="bio-section">
                <h2>Bach, Johann Sebastian</h2>
                <div class="bio-text">
                    <p>Johann Sebastian Bach (1685-1750) is a prolific German composer of the Baroque era. He revolutionized Western music through his contrapuntal mastery and harmonic innovations. His seminal works span sacred cantatas, orchestral suites, keyboard masterpieces, and monumental choral compositions. </p>
                </div>
            </div>
            <div class="works-section">
                <h3>Works Collected for NotaGen</h3>
                <ul class="works-list">
                    <li>Inventions and Sinfonias, BWV 772-801</li>
                    <li>6 English Suites, BWV 806-811</li>
                    <li>6 French Suites, BWV 812-817</li>
                    <li>Das wohltemperierte Klavier I & II</li>
                    <li>6 Cello Suites, BWV 1007-1012</li>
                    <li>6 Violin Sonatas, BWV 1014-1019</li>
                    <li>Orchestral Suites, BWV 1066-1069</li>
                    <li>......</li>
                </ul>
            </div>
          </div>
      </div>

      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\Antonio_Vivaldi.jpg" alt="Vivaldi, Antonio">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Vivaldi, Antonio</h2>
              <div class="bio-text">
                  <p>Antonio Vivaldi (1678-1741), a pioneering Italian Baroque composer and virtuoso violinist, revolutionized instrumental music through his vibrant concerto form, exemplified by The Four Seasons—a landmark programmatic work. Known as "The Red Priest" for his flaming hair and clerical career, his over 500 concertos and sacred choral works blend technical brilliance with dramatic storytelling.</p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>12 Violin Sonatas, Op.2</li>
                  <li>12 Concertos for Strings</li>
                  <li>Gloria in D major, RV 589</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\J-haydn.jpg" alt="Haydn, Joseph">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Haydn, Joseph</h2>
              <div class="bio-text">
                  <p>Joseph Haydn (1732-1809), the Austrian "Father of the Symphony" and "Father of the String Quartet," shaped Classical-era music through 104 symphonies and 68 quartets that defined these genres. Haydn's disciplined craftsmanship and mentorship of Mozart/Beethoven solidified his legacy as a foundational architect of Viennese Classicism.</p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>Symphony No.94 in G major, Hob.I:94</li>
                  <li>Symphony No.104 in D major, Hob.I:104</li>
                  <li>String Quartets, Op.1</li>
                  <li>String Quartets, Op.9</li>
                  <li>String Quartets, Op.20</li>
                  <li>String Quartets, Op.64</li>
                  <li>Die Schöpfung, Hob.XXI:2</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\mozart.jpg" alt="Mozart, Wolfgang Amadeus">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Mozart, Wolfgang Amadeus</h2>
              <div class="bio-text">
                  <p>Wolfgang Amadeus Mozart (1756-1791), the Austrian child prodigy and pinnacle of Classical-era composition, mastered every musical form—from operas to symphonies and piano concertos—with unparalleled melodic genius. His seamless fusion of lyrical elegance and structural precision bridged Baroque complexity and Romantic expressiveness. </p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>Symphony No.39 in E-flat major, K.543</li>
                  <li>Symphony No.40 in G minor, K.550</li>
                  <li>Symphony No.41 in C major, K.551</li>
                  <li>Piano Concerto No.21 in C major, K.467</li>
                  <li>Clarinet Concerto in A major, K.622</li>
                  <li>Piano Sonata No.11 in A major, K.331</li>
                  <li>Ah se in ciel, K.538</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>
      
      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\Beethoven.jpg" alt="Beethoven, Ludwig van">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Beethoven, Ludwig van</h2>
              <div class="bio-text">
                  <p>Ludwig van Beethoven (1770-1827), a towering figure in Western music, bridged the Classical and Romantic eras with his bold innovations and emotional intensity. His life and art, marked by personal struggle and creative triumph, continue to symbolize the transformative power of human resilience and artistic vision. </p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>Symphony No.5, Op.67</li>
                  <li>Symphony No.6, Op.68</li>
                  <li>Symphony No.9, Op.125</li>
                  <li>Piano Sonata No.8, Op.13</li>
                  <li>Piano Sonata No.14, Op.27, No.2</li>
                  <li>Große Fuge, Op.133</li>
                  <li>Coriolan, Op.62</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\Schubert.jpg" alt="Schubert, Franz">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Schubert, Franz</h2>
              <div class="bio-text">
                  <p>Franz Schubert (1797-1828), the Austrian composer of the late Classical and early Romantic eras, is celebrated for his gift for melody and prolific output. A master of Lieder (art songs), he elevated the genre to new poetic heights, while his symphonies, chamber works, and piano pieces reveal a profound emotional range. </p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>Die schöne Müllerin, D.795</li>
                  <li>Winterreise, D.911</li>
                  <li>Piano Sonata in B-flat major, D.960</li>
                  <li>4 Impromptus, D.899</li>
                  <li>String Quartet in D minor, D.810</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\Schumann.jpg" alt="Schumann, Robert">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Schumann, Robert</h2>
              <div class="bio-text">
                  <p>Robert Schumann (1810-1856), a leading Romantic composer, infused his music with literary imagination and emotional intensity, creating works that bridged poetry and sound. Known for his innovative piano cycles and lieder, he expanded the expressive possibilities of these forms through intricate harmonies and narrative structures. His symphonies, chamber music, and solo piano works, characterized by their lyrical beauty and introspective depth, solidified his legacy as a visionary of 19th-century music. </p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>Kinderszenen, Op.15</li>
                  <li>Kreisleriana, Op.16</li>
                  <li>Myrthen, Op.25</li>
                  <li>Dichterliebe, Op.48</li>
                  <li>String Quartet No.1, Op.41 No.1</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>

      <div class="composer-container">
        <div class="composer-image">
            <img src="static\images\composers\Brahms.jpg" alt="Brahms, Johannes">
        </div>
        <div class="composer-info">
          <div class="bio-section">
              <h2>Brahms, Johannes</h2>
              <div class="bio-text">
                  <p>Johannes Brahms (1833-1897), a German composer of the Romantic era, is renowned for his synthesis of Classical forms and Romantic expressiveness. His music, characterized by rich harmonies, intricate counterpoint, and emotional depth, spans symphonies, chamber works, piano compositions, and lieder. Often seen as Beethoven's spiritual successor, Brahms balanced tradition and innovation, leaving a legacy of meticulously crafted works that continue to define the Romantic canon. </p>
              </div>
          </div>
          <div class="works-section">
              <h3>Works Collected for NotaGen</h3>
              <ul class="works-list">
                  <li>Symphony No.3, Op.90</li>
                  <li>Symphony No.4, Op.98</li>
                  <li>String Sextet No.1, Op.18</li>
                  <li>3 Intermezzi, Op.117</li>
                  <li>4 Serious Songs, Op.121</li>
                  <li>......</li>
              </ul>
          </div>
        </div>
      </div>

      
  </div>
</div>
</div>
</section>
<!-- End image carousel -->


<!-- Reinforcement Learning -->
<section class="hero is-small">
<br>
  <div class="hero-body">
    <div class="columns is-centered has-text-centered">
      <div class="container"style="max-width: 1100px; margin: 50px;">
        <h2 class="title is-3">Reinforcement Learning (CLaMP-DPO)</h2>
        <br>
          <div class="content has-text-justified">
            <p>
              To refine both the musicality and the prompt controllability of the fine-tuned NotaGen, we present CLaMP-DPO. This method builds upon the principles of Reinforcement Learning from AI Feedback (RLAIF) and implements <a href="https://arxiv.org/abs/2305.18290" target="_blank">Direct Preference Optimization (DPO)</a>.  In CLaMP-DPO, CLaMP 2 serves as the evaluator within the DPO framework, distinguishing between chosen and rejected musical outputs to optimize NotaGen.
            </p>
            <p>
              Our experiments demonstrated that CLaMP-DPO efficiently enhanced both the controllability and the musicality across different symbolic music generation models, irrespective of their data modalities, encoding schemes, or model architectures. This underscores CLaMP-DPO's broad applicability and potential for auto-regressively trained symbolic music generation models.
            </p>
      </div>
    </div>
  </div>
</section>
<!-- End Reinforcement Learning -->


<section class="hero is-small is-light">

  <br>
    <div class="hero-body">
      <div class="columns is-centered has-text-centered">
        <div class="container"style="max-width: 1100px; margin: auto;">
          <h2 class="title is-3">Generated Samples</h2>
          <!-- 第一个播放器 -->
          <div class="player-container">
            <h2 class="video-title" id="videoTitle1"></h2>
            <div class="video-container">
                <iframe id="ytplayer1" allowfullscreen
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
                </iframe>
            </div>
            <button class="arrow-btn prev" id="prevBtn1">◀</button>
            <button class="arrow-btn next" id="nextBtn1">▶</button>
          </div>

          <!-- 第二个播放器 -->
          <div class="player-container">
            <h2 class="video-title" id="videoTitle2"></h2>
            <div class="video-container">
                <iframe id="ytplayer2" allowfullscreen
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture">
                </iframe>
            </div>
            <button class="arrow-btn prev" id="prevBtn2">◀</button>
            <button class="arrow-btn next" id="nextBtn2">▶</button>
          </div>
          </section>
        </div>
      </div>
    </div>
  </div>
</section>



<!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>BibTex Code Here</code></pre>
    </div>
</section>
<!--End BibTex citation -->


<footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">

          <p>
            This page was built using the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a> which was adopted from the <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
            You are free to borrow the source code of this website, we just ask that you link back to this page in the footer. <br> This website is licensed under a <a rel="license"  href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>

        </div>
      </div>
    </div>
  </div>
</footer>


<div id="aplayer"></div>


<script>


  // 第一个播放器配置
  const player1 = {
      videos: [
          { id: 'mNpegaVDloU', title: 'Keyboard' },
          { id: 'c1LzEfH4opo', title: 'Keyboard' },
          { id: '628GEHFcMEs', title: 'Keyboard' },
          { id: '4Z9t-HzozW0', title: 'Keyboard' },
          { id: 'OYp1YEbgGvI', title: 'Keyboard' },
          { id: 'cY6Bebokzyw', title: 'Keyboard' },
          { id: '9NfxCmgQdeg', title: 'Keyboard' },
          { id: 'dxGwnYBu0Uo', title: 'Keyboard' },
          { id: '3_l4TeCS6p4', title: 'Keyboard' },
      ],
      currentIndex: 0,
      player: document.getElementById('ytplayer1'),
      title: document.getElementById('videoTitle1')
  };

  // 第二个播放器配置（使用不同视频）
  const player2 = {
      videos: [
          { id: '-Vm2sNCkzSo', title: '热门MV' },
          { id: 'H5v3kku4y6Q', title: '电子音乐' },
          { id: 'kJQP7kiw5Fk', title: '全球热单' }
      ],
      currentIndex: 0,
      player: document.getElementById('ytplayer2'),
      title: document.getElementById('videoTitle2')
  };

  // 通用加载函数
  function loadVideo(playerObj, index) {
      playerObj.currentIndex = (index + playerObj.videos.length) % playerObj.videos.length;
      playerObj.player.src = `https://www.youtube.com/embed/${playerObj.videos[playerObj.currentIndex].id}?autoplay=1`;
      playerObj.title.textContent = playerObj.videos[playerObj.currentIndex].title;
  }

  // 为第一个播放器绑定事件
  document.getElementById('prevBtn1').addEventListener('click', () => {
      loadVideo(player1, player1.currentIndex - 1);
  });
  document.getElementById('nextBtn1').addEventListener('click', () => {
      loadVideo(player1, player1.currentIndex + 1);
  });

  // 为第二个播放器绑定事件
  document.getElementById('prevBtn2').addEventListener('click', () => {
      loadVideo(player2, player2.currentIndex - 1);
  });
  document.getElementById('nextBtn2').addEventListener('click', () => {
      loadVideo(player2, player2.currentIndex + 1);
  });

  // 初始化两个播放器
  loadVideo(player1, 0);
  loadVideo(player2, 0);

  const ap = new APlayer({
  container: document.getElementById('aplayer'),
  autoplay: true, // 设置为 true 以在加载时自动播放
  fixed: true, 
  theme: '#b7daff', // 设置播放器主题颜色
  loop: 'all', // 设置循环播放模式，'all' 表示循环整个播放列表
  preload: 'auto', // 设置预加载模式，'auto' 表示自动预加载
  volume: 0.7, // 设置初始音量，范围是 0 到 1
  mutex: true, // 设置为 true 以确保同一时间只有一个播放器在播放
  listmaxheight: '513px', // 设置播放列表的最大高度
  storageName: 'aplayer', // 设置播放器的本地存储名称
  audio: [
      {
      name: 'Waltz in F-sharp Minor',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Waltz in F-sharp Minor_1635.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Violin Sonata in Largo',
      artist: 'NotaGen',
      url: 'static/music/Chamber_Violin Sonata in Largo_14.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Arabesque',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Arabesque_648.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Dance of the Spirits',
      artist: 'NotaGen',
      url: 'static/music/Orchestral_Dance of the Spirits_2352.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Andante in F-sharp Major',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Andante in F-sharp Major_342.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'String Quartet in Db Major',
      artist: 'NotaGen',
      url: 'static/music/Chamber_String Quartet in Db Major_390.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Humoresque',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Humoresque_1673.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'From Light to Shadow',
      artist: 'NotaGen',
      url: 'static/music/Orchestral_From Light to Shadow_1799.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Romance in B Major',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Romance in B Major_954.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Violin Sonata in Allegro',
      artist: 'NotaGen',
      url: 'static/music/Chamber_Violin Sonata in Allegro_prompt_6.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Ripples in the Moonlight',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Ripples in the Moonlight_1-1-13A.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Andante Cantabile',
      artist: 'NotaGen',
      url: 'static/music/Orchestral_Andante Cantabile_1405.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Etude',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Etude_953.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Serenade in A Major',
      artist: 'NotaGen',
      url: 'static/music/Chamber_Serenade in A Major_400.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Lyrical Piece',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Lyrical Piece_56.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Minuet for Orchestra',
      artist: 'NotaGen',
      url: 'static/music/Orchestral_Minuet for Orchestra_376.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Percussive Dance in A Minor',
      artist: 'NotaGen',
      url: 'static/music/Keyboard_Percussive Dance in A Minor_1-1-17A.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      {
      name: 'Concerto of Strings',
      artist: 'NotaGen',
      url: 'static/music/Orchestral_Concerto of Strings_333.mp3',
      cover: 'static/images/notagen-icon.jpg'
      },
      // 可以添加更多歌曲
      ],
  });
  ap.init();
  
</script>
<!-- Statcounter tracking code -->
  
<!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

    <!-- End of Statcounter Code -->

  </body>
  </html>
